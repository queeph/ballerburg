
[gd_scene load_steps=8 format=3 uid="uid://castle"]

[ext_resource type="Script" path="res://scripts/Castle.gd" id="1"]
[ext_resource type="Script" path="res://scripts/Section.gd" id="2"]
[ext_resource type="Texture2D" path="res://assets/section_block.svg" id="3"]
[ext_resource type="Texture2D" path="res://assets/section_cannon.svg" id="4"]
[ext_resource type="Texture2D" path="res://assets/section_powder.svg" id="5"]
[ext_resource type="Texture2D" path="res://assets/section_king.svg" id="6"]
[ext_resource type="Texture2D" path="res://assets/section_tower.svg" id="7"]
[ext_resource type="Texture2D" path="res://assets/section_keep.svg" id="8"]
[ext_resource type="Texture2D" path="res://assets/section_roof.svg" id="9"]

[sub_resource type="RectangleShape2D" id="1"]
size = Vector2(24, 20)

[sub_resource type="RectangleShape2D" id="2"]
size = Vector2(24, 24)

[sub_resource type="RectangleShape2D" id="3"]
size = Vector2(24, 30)

[sub_resource type="RectangleShape2D" id="4"]
size = Vector2(24, 40)

[node name="Castle" type="Node2D"]
script = ExtResource("1")

[node name="WallLeft" type="Node2D" parent="."]
position = Vector2(-64, -20)
script = ExtResource("2")
section_name = "Mauer Links"
section_type = "wall"
max_health = 80

[node name="Sprite" type="Sprite2D" parent="WallLeft"]
texture = ExtResource("3")
centered = true

[node name="Body" type="StaticBody2D" parent="WallLeft"]

[node name="Shape" type="CollisionShape2D" parent="WallLeft/Body"]
shape = SubResource("1")

[node name="WallRight" type="Node2D" parent="."]
position = Vector2(16, -20)
script = ExtResource("2")
section_name = "Mauer Rechts"
section_type = "wall"
max_health = 80

[node name="Sprite" type="Sprite2D" parent="WallRight"]
texture = ExtResource("3")
centered = true

[node name="Body" type="StaticBody2D" parent="WallRight"]

[node name="Shape" type="CollisionShape2D" parent="WallRight/Body"]
shape = SubResource("1")

[node name="KeepLower" type="Node2D" parent="."]
position = Vector2(-24, -44)
script = ExtResource("2")
section_name = "Unterburg"
section_type = "keep"
max_health = 120

[node name="Sprite" type="Sprite2D" parent="KeepLower"]
texture = ExtResource("8")
centered = true

[node name="Body" type="StaticBody2D" parent="KeepLower"]

[node name="Shape" type="CollisionShape2D" parent="KeepLower/Body"]
shape = SubResource("2")

[node name="Cannon" type="Node2D" parent="."]
position = Vector2(-48, -44)
script = ExtResource("2")
section_name = "Geschütz"
section_type = "tower"
max_health = 90

[node name="Sprite" type="Sprite2D" parent="Cannon"]
texture = ExtResource("4")
centered = true

[node name="Body" type="StaticBody2D" parent="Cannon"]

[node name="Shape" type="CollisionShape2D" parent="Cannon/Body"]
shape = SubResource("1")

[node name="Powder" type="Node2D" parent="."]
position = Vector2(-24, -68)
script = ExtResource("2")
section_name = "Pulverlager"
section_type = "powder"
max_health = 60
explosion_radius = 120
explosion_damage = 120

[node name="Sprite" type="Sprite2D" parent="Powder"]
texture = ExtResource("5")
centered = true

[node name="Body" type="StaticBody2D" parent="Powder"]

[node name="Shape" type="CollisionShape2D" parent="Powder/Body"]
shape = SubResource("2")

[node name="KeepUpper" type="Node2D" parent="."]
position = Vector2(-24, -88)
script = ExtResource("2")
section_name = "Obere Burg"
section_type = "keep"
max_health = 140

[node name="Sprite" type="Sprite2D" parent="KeepUpper"]
texture = ExtResource("8")
centered = true

[node name="Body" type="StaticBody2D" parent="KeepUpper"]

[node name="Shape" type="CollisionShape2D" parent="KeepUpper/Body"]
shape = SubResource("2")

[node name="RoofKeep" type="Node2D" parent="."]
position = Vector2(-24, -108)
script = ExtResource("2")
section_name = "Dach"
section_type = "wall"
max_health = 60

[node name="Sprite" type="Sprite2D" parent="RoofKeep"]
texture = ExtResource("9")
centered = true

[node name="Body" type="StaticBody2D" parent="RoofKeep"]

[node name="Shape" type="CollisionShape2D" parent="RoofKeep/Body"]
shape = SubResource("3")

[node name="King" type="Node2D" parent="."]
position = Vector2(-24, -128)
script = ExtResource("2")
section_name = "Königsturm"
section_type = "king"
max_health = 100

[node name="Sprite" type="Sprite2D" parent="King"]
texture = ExtResource("6")
centered = true

[node name="Body" type="StaticBody2D" parent="King"]

[node name="Shape" type="CollisionShape2D" parent="King/Body"]
shape = SubResource("4")

[node name="TowerLeft" type="Node2D" parent="."]
position = Vector2(-120, -68)
script = ExtResource("2")
section_name = "Turm Links"
section_type = "tower"
max_health = 150

[node name="Sprite" type="Sprite2D" parent="TowerLeft"]
texture = ExtResource("7")
centered = true
scale = Vector2(0.85, 0.85)

[node name="Body" type="StaticBody2D" parent="TowerLeft"]

[node name="Shape" type="CollisionShape2D" parent="TowerLeft/Body"]
shape = SubResource("4")


[node name="TowerRight" type="Node2D" parent="."]
position = Vector2(72, -68)
script = ExtResource("2")
section_name = "Turm Rechts"
section_type = "tower"
max_health = 150

[node name="Sprite" type="Sprite2D" parent="TowerRight"]
texture = ExtResource("7")
centered = true
scale = Vector2(0.85, 0.85)

[node name="Body" type="StaticBody2D" parent="TowerRight"]

[node name="Shape" type="CollisionShape2D" parent="TowerRight/Body"]
shape = SubResource("4")

[node name="NameLabel" type="Label" parent="."]
position = Vector2(-80, -150)
size = Vector2(160, 20)
text = "Player"
horizontal_alignment = 1

[node name="HealthLabel" type="Label" parent="."]
position = Vector2(-80, -130)
size = Vector2(160, 20)
text = "HP: 100"
horizontal_alignment = 1
